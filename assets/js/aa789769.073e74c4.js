"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[959],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>o});var r=i(96540);const t={},s=r.createContext(t);function c(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(s.Provider,{value:n},e.children)}},37395:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"api-specification/overview","title":"API Overview","description":"This section provides complete reference documentation for both the backend API and frontend components.","source":"@site/docs/api-specification/overview.md","sourceDirName":"api-specification","slug":"/api-specification/overview","permalink":"/project-001-sketch2screen/docs/api-specification/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Capstone-Projects-2025-Fall/project-001-sketch2screen/edit/main/documentation/docs/api-specification/overview.md","tags":[],"version":"current","lastUpdatedBy":"Seunghun Lee","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Use Case Descriptions","permalink":"/project-001-sketch2screen/docs/requirements/use-case-descriptions"},"next":{"title":"Backend API","permalink":"/project-001-sketch2screen/docs/category/backend-api"}}');var t=i(74848),s=i(28453);const c={},o="API Overview",l={},a=[{value:"Quick Links",id:"quick-links",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"API Categories",id:"api-categories",level:2},{value:"REST API",id:"rest-api",level:3},{value:"WebSocket API",id:"websocket-api",level:3},{value:"Internal Services",id:"internal-services",level:3},{value:"Common Workflows",id:"common-workflows",level:2},{value:"Generate Mockup from Sketch",id:"generate-mockup-from-sketch",level:3},{value:"Multi-page Generation",id:"multi-page-generation",level:3},{value:"Real-time Collaboration",id:"real-time-collaboration",level:3},{value:"Authentication &amp; Security",id:"authentication--security",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Rate Limits",id:"rate-limits",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"api-overview",children:"API Overview"})}),"\n",(0,t.jsx)(n.p,{children:"This section provides complete reference documentation for both the backend API and frontend components."}),"\n",(0,t.jsx)(n.h2,{id:"quick-links",children:"Quick Links"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/rest-endpoints",children:"REST API Endpoints"})})," - HTTP endpoints for sketch generation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/websocket-api",children:"WebSocket API"})})," - Real-time collaboration protocol"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/services",children:"Internal Services"})})," - Backend service architecture"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/frontend-api/components",children:"Frontend Components"})})," - React component reference"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,t.jsx)(n.p,{children:"Sketch2Screen uses a client-server architecture with real-time collaboration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                       Frontend (React)                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502  Drawing   \u2502  \u2502   Mockup   \u2502  \u2502  Collaboration      \u2502    \u2502\n\u2502  \u2502  Canvas    \u2502  \u2502  Display   \u2502  \u2502  Client (WebSocket) \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502             \u2502                 \u2502\n             \u2502 HTTP POST   \u2502 HTTP POST       \u2502 WebSocket (ws://)\n             \u2502 /generate/  \u2502 /generate-multi/\u2502 /ws/collab/{id}/\n             \u2502             \u2502                 \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                       Backend (Django)                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 REST Views   \u2502  \u2502 WebSocket       \u2502  \u2502 Collaboration  \u2502  \u2502\n\u2502  \u2502 (Generate)   \u2502  \u2502 Consumer        \u2502  \u2502 Server         \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                   \u2502                               \u2502\n\u2502         \u2502            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 \u2502 Claude Client \u2502                      \u2502\n\u2502                      \u2502 (AI Service)  \u2502                      \u2502\n\u2502                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n                    Anthropic Claude API\n"})}),"\n",(0,t.jsx)(n.h2,{id:"api-categories",children:"API Categories"}),"\n",(0,t.jsx)(n.h3,{id:"rest-api",children:"REST API"}),"\n",(0,t.jsx)(n.p,{children:"HTTP endpoints for sketch-to-code generation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Single Generation"})," - Convert one sketch image to HTML/CSS"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multi-page Generation"})," - Convert multiple sketches in batch"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Health Check"})," - Verify backend connectivity"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"websocket-api",children:"WebSocket API"}),"\n",(0,t.jsx)(n.p,{children:"Real-time collaboration protocol:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Connection Management"})," - Join/leave collaboration sessions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scene Updates"})," - Synchronize drawing changes across clients"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Page Updates"})," - Synchronize page create/rename/delete operations"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"internal-services",children:"Internal Services"}),"\n",(0,t.jsx)(n.p,{children:"Backend services that power the API:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Claude Client"})," - AI-powered sketch-to-code generation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Collaboration Server"})," - Session and state management"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"WebSocket Consumer"})," - Real-time message handling"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-workflows",children:"Common Workflows"}),"\n",(0,t.jsx)(n.h3,{id:"generate-mockup-from-sketch",children:"Generate Mockup from Sketch"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// 1. Export sketch to PNG blob\nconst blob = await drawingRef.current?.exportToBlob();\n\n// 2. Upload to backend\nconst formData = new FormData();\nformData.append('file', blob, 'sketch.png');\n\nconst response = await fetch('/api/generate/', {\n  method: 'POST',\n  body: formData\n});\n\n// 3. Get generated HTML\nconst { html } = await response.json();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"multi-page-generation",children:"Multi-page Generation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// 1. Collect all sketch pages\nconst formData = new FormData();\nformData.append('count', pages.length.toString());\n\npages.forEach((page, index) => {\n  const blob = await exportPageToBlob(page);\n  formData.append(`file_${index}`, blob);\n  formData.append(`name_${index}`, page.name);\n  formData.append(`id_${index}`, page.id);\n});\n\n// 2. Generate all mockups in parallel\nconst response = await fetch('/api/generate-multi/', {\n  method: 'POST',\n  body: formData\n});\n\nconst { results } = await response.json();\n// results = [{ id: 'page-1', html: '...' }, ...]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"real-time-collaboration",children:"Real-time Collaboration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// 1. Create collaboration client\nconst collabClient = new CollabClient(collabID);\n\n// 2. Set up handlers\ncollabClient.setUpdateHandler((sketchID, sceneData) => {\n  // Update local scene with remote changes\n  updateScene(sketchID, sceneData);\n});\n\n// 3. Send updates when local changes occur\nconst handleSceneChange = (sceneData) => {\n  collabClient.sendSceneUpdate(activePageId, sceneData);\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"authentication--security",children:"Authentication & Security"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Current Status:"})," No authentication required (development mode)"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Security Considerations:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["CSRF protection is disabled for API endpoints (",(0,t.jsx)(n.code,{children:"@csrf_exempt"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"CORS is enabled for cross-origin requests"}),"\n",(0,t.jsx)(n.li,{children:"File uploads are limited to 10MB per file"}),"\n",(0,t.jsxs)(n.li,{children:["Only image files are accepted (",(0,t.jsx)(n.code,{children:"image/*"})," content types)"]}),"\n",(0,t.jsx)(n.li,{children:"WebSocket connections are unauthenticated"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Production Recommendations:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Implement user authentication (JWT, OAuth, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Enable CSRF protection with token validation"}),"\n",(0,t.jsx)(n.li,{children:"Restrict CORS to specific origins"}),"\n",(0,t.jsx)(n.li,{children:"Add rate limiting to prevent abuse"}),"\n",(0,t.jsx)(n.li,{children:"Implement WebSocket authentication/authorization"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsx)(n.p,{children:"All endpoints follow consistent error response formats:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"REST API Errors:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "detail": "Error message describing what went wrong"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"HTTP Status Codes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"200 OK"})," - Success"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"400 Bad Request"})," - Invalid input (missing file, wrong type, etc.)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"413 Request Entity Too Large"})," - File exceeds 10MB limit"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"500 Internal Server Error"})," - AI generation failed or server error"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"WebSocket Errors:"}),"\nWebSocket errors are logged server-side. Invalid messages are silently discarded."]}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Backend Settings:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CLAUDE_API_KEY"})," - Path to file containing Anthropic API key (or ",(0,t.jsx)(n.code,{children:"ANTHROPIC_API_KEY"})," env var)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"CLAUDE_MODEL"})," - Claude model to use (default: ",(0,t.jsx)(n.code,{children:"claude-sonnet-4-20250514"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"MAX_BYTES"})," - Maximum upload size (10MB)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Environment Variables:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ANTHROPIC_API_KEY"})," - Claude API key (alternative to file-based config)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PROD"})," - Set to ",(0,t.jsx)(n.code,{children:"True"})," for production mode"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"rate-limits",children:"Rate Limits"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Current Implementation:"})," No rate limiting"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Anthropic API Limits:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Requests per minute vary by plan"}),"\n",(0,t.jsx)(n.li,{children:"Token limits apply (max_tokens=2000 per request)"}),"\n",(0,t.jsxs)(n.li,{children:["See ",(0,t.jsx)(n.a,{href:"https://docs.anthropic.com/en/api/rate-limits",children:"Anthropic documentation"})," for details"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/rest-endpoints",children:"REST API Documentation"})})," - Detailed endpoint reference"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/websocket-api",children:"WebSocket Protocol"})})," - Real-time collaboration protocol"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/frontend-api/components",children:"Frontend Components"})})," - React component API"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);