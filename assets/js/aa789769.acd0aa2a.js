"use strict";(globalThis.webpackChunkcreate_project_docs=globalThis.webpackChunkcreate_project_docs||[]).push([[959],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>o});var r=i(96540);const s={},t=r.createContext(s);function c(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(t.Provider,{value:n},e.children)}},37395:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"api-specification/overview","title":"API Overview","description":"Sketch2Screen provides a REST API for AI-powered sketch-to-code generation and a WebSocket API for real-time collaboration.","source":"@site/docs/api-specification/overview.md","sourceDirName":"api-specification","slug":"/api-specification/overview","permalink":"/project-001-sketch2screen/docs/api-specification/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Capstone-Projects-2025-Fall/project-001-sketch2screen/edit/main/documentation/docs/api-specification/overview.md","tags":[],"version":"current","lastUpdatedBy":"Sahil-Jartare","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Use Case Descriptions","permalink":"/project-001-sketch2screen/docs/requirements/use-case-descriptions"},"next":{"title":"Backend API","permalink":"/project-001-sketch2screen/docs/category/backend-api"}}');var s=i(74848),t=i(28453);const c={},o="API Overview",l={},a=[{value:"Quick Links",id:"quick-links",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"API Categories",id:"api-categories",level:2},{value:"REST API",id:"rest-api",level:3},{value:"WebSocket API (Experimental)",id:"websocket-api-experimental",level:3},{value:"Internal Services",id:"internal-services",level:3},{value:"Key Features",id:"key-features",level:2},{value:"Dual API Key Architecture",id:"dual-api-key-architecture",level:3},{value:"AI Model Configuration",id:"ai-model-configuration",level:3},{value:"Security Model",id:"security-model",level:3},{value:"Error Handling",id:"error-handling",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"api-overview",children:"API Overview"})}),"\n",(0,s.jsx)(n.p,{children:"Sketch2Screen provides a REST API for AI-powered sketch-to-code generation and a WebSocket API for real-time collaboration."}),"\n",(0,s.jsx)(n.h2,{id:"quick-links",children:"Quick Links"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/swagger-api",children:"API Reference"})})," - Complete REST API and WebSocket endpoint specifications"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/services",children:"Internal Services"})})," - Backend service architecture and implementation details"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/frontend-api/components",children:"Frontend Components"})})," - React component reference"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,s.jsx)(n.p,{children:"Sketch2Screen uses a client-server architecture with real-time collaboration:"}),"\n",(0,s.jsx)(n.mermaid,{value:'graph TB\n    subgraph Frontend["Frontend (React)"]\n        Drawing["Drawing Canvas<br/>(Excalidraw)"]\n        Mockup["Mockup Display<br/>(HTML Preview)"]\n        Collab["Collaboration Client<br/>(WebSocket)"]\n    end\n\n    subgraph Backend["Backend (Django)"]\n        RestViews["REST Views"]\n        WSConsumer["WebSocket Consumer"]\n        CollabServer["Collaboration Server"]\n        ClaudeClient["Claude Client<br/>(Sketch Generation)"]\n        ClaudeVariations["Claude Client Variations<br/>(Component Styling)"]\n    end\n\n    subgraph External["External Services"]\n        AnthropicAPI["Anthropic Claude API"]\n    end\n\n    Drawing --\x3e|"POST /api/generate/"| RestViews\n    Drawing --\x3e|"POST /api/generate-multi/"| RestViews\n    Mockup --\x3e|"POST /api/generate-variations/"| RestViews\n    Collab <--\x3e|"WebSocket /api/ws/collab/{id}/"| WSConsumer\n\n    RestViews --\x3e ClaudeClient\n    RestViews --\x3e ClaudeVariations\n    WSConsumer --\x3e CollabServer\n\n    ClaudeClient --\x3e|"CLAUDE_API_KEY"| AnthropicAPI\n    ClaudeVariations --\x3e|"CLAUDE_VARIATION_KEY"| AnthropicAPI'}),"\n",(0,s.jsx)(n.h2,{id:"api-categories",children:"API Categories"}),"\n",(0,s.jsx)(n.h3,{id:"rest-api",children:"REST API"}),"\n",(0,s.jsx)(n.p,{children:"Three HTTP endpoints for AI-powered generation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"POST /api/generate/"})})," - Convert a single sketch image to HTML/Tailwind CSS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"POST /api/generate-multi/"})})," - Batch convert multiple sketches (up to 20 pages, parallel async)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"POST /api/generate-variations/"})})," - Generate design variations for selected UI components"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"websocket-api-experimental",children:"WebSocket API (Experimental)"}),"\n",(0,s.jsx)(n.p,{children:"Real-time collaboration over WebSocket:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Endpoint"})," - ",(0,s.jsx)(n.code,{children:"ws://localhost:8000/ws/collab/{collabID}/"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scene Sync"})," - Broadcast drawing changes using diffs to prevent mid-stroke conflicts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Page Management"})," - Synchronize page create/rename/delete operations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Collaborator Tracking"})," - Join/leave notifications and cursor position updates"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/swagger-api",children:"API Reference"})})," for detailed request/response formats and protocol specifications."]}),"\n",(0,s.jsx)(n.h3,{id:"internal-services",children:"Internal Services"}),"\n",(0,s.jsx)(n.p,{children:"Backend services that power the API:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Claude Client"})," - Sketch-to-HTML generation using Anthropic's Claude (15k token limit)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Claude Client Variations"})," - Component variation generation (4k token limit)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Collaboration Server"})," - In-memory session and state management"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"WebSocket Consumer"})," - Real-time message routing"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/project-001-sketch2screen/docs/api-specification/backend-api/services",children:"Internal Services"})})," for implementation details."]}),"\n",(0,s.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,s.jsx)(n.h3,{id:"dual-api-key-architecture",children:"Dual API Key Architecture"}),"\n",(0,s.jsx)(n.p,{children:"The backend uses two separate Anthropic API keys:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"CLAUDE_API_KEY"})})," - Main sketch-to-code generation (higher token usage)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"CLAUDE_VARIATION_KEY"})})," - Component variations (lower token usage)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This separation allows for better cost management and rate limit distribution."}),"\n",(0,s.jsx)(n.h3,{id:"ai-model-configuration",children:"AI Model Configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Model"}),": ",(0,s.jsx)(n.code,{children:"claude-haiku-4-5-20251001"})," (fast, cost-effective)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Max Tokens"}),": 15,000 (sketch generation), 4,000 (variations)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Input"}),": PNG images up to 10MB"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Output"}),": Production-ready HTML with Tailwind CSS"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"security-model",children:"Security Model"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Development Mode"}),": No authentication required"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CSRF"}),": Disabled for API endpoints (",(0,s.jsx)(n.code,{children:"@csrf_exempt"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CORS"}),": Enabled for cross-origin requests"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"File Validation"}),": Images only, 10MB limit"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"WebSocket"}),": Unauthenticated connections"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Production considerations:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"wss://"})," for WebSocket encryption"]}),"\n",(0,s.jsx)(n.li,{children:"Implement authentication and authorization"}),"\n",(0,s.jsx)(n.li,{children:"Use Redis channel layer for horizontal scaling"}),"\n",(0,s.jsx)(n.li,{children:"Add rate limiting for API endpoints"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsxs)(n.p,{children:["All REST endpoints return JSON errors with ",(0,s.jsx)(n.code,{children:"detail"})," field. Common HTTP status codes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"200"})," - Success"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"400"})," - Invalid request (missing fields, wrong type, invalid count)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"413"})," - File too large (>10MB)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"500"})," - AI generation failure or server error"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"WebSocket errors are logged server-side. Connection failures trigger automatic cleanup and session termination if last member."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);